<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>MPI Web App</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="{{ url_for('static', filename='css/foundation.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/jquery.fileupload.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/jquery.fileupload-ui.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/select2.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='bower_components/pikaday/css/pikaday.css') }}" rel="stylesheet">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>

  <div id="experiments-app">

    <header class="top-bar">
      <div class="top-bar-right">
        <nav class="main-menu">
          <ul class="menu">
            <li><a href="/">Experiments</a></li>
            <li><a href="/experiments/add">Create new</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="main">
    </main>

  </div> <!-- /container -->

  <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="{{ url_for('static', filename='js/libs/jquery-1.12.3.min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/libs/underscore-min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/libs/backbone/backbone-min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/libs/backbone/backbone.syphon.min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/libs/foundation.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/what-input.js') }}"></script>
  <script src="{{ url_for('static', filename='bower_components/d3/d3.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/jquery-fileupload/jquery.ui.widget.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/jquery-fileupload/jquery.iframe-transport.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/jquery-fileupload/jquery.fileupload.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/jquery-fileupload/jquery.knob.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/jquery-fileupload/jquery.fileupload-ui.js') }}"></script>
  <script src="{{ url_for('static', filename='js/libs/select2.min.js') }}"></script>
  <script src="{{ url_for('static', filename='bower_components/pikaday/pikaday.js') }}"></script>


  <script type="text/template" id="experiments-tmpl">
    <section class="top">
      <div class="row">
        <h1>Experiments</h1>
        <form class="search-form" role="search">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
          </div>
        </form>
      </div>
    </section>
  </script>


  <script type="text/template" id="experiment-item-tmpl">
    <div class="row">
      <h4 class="list-group-item-heading"><a href="experiments/<%= id %>" class="show"><%= name %></a></h4>
      <p class="list-group-item-text">Experimenter: <i><%= experimenter %></i></p>
    </div>
  </script>


  <script type="text/template" id="experiment-tmpl">
    <div class="top jumbotron">
      <div class="row">
        <div class="page-header">
          <h2><%= name %></h2>
        </div>
      </div>
    </div>
    <div class="content expanded row">
      <div id="experiment-tabs">
        <ul class="menu row">
          <li class="is-active"><a class="experiment-information">Information</a></li>
          <li><a class="experiment-raw-files">Raw data</a></li>
          <li><a class="experiment-analysis-files">Analysis results</a></li>
        </ul>
      </div>
      <div id="experiment-data" class="row">
        <div class="small-12 column">
          <div id="experiment-information">
            <p><strong>Experiment type:</strong> <%= exp_type %></p>
            <p><strong>Submitted on:</strong> <%= date %></p>
            <p><strong>Experimenter:</strong> <%= experimenter %></p>
            <p><strong>Species:</strong> <%= species %></p>
            <p><strong>Tissue:</strong> <%= tissue %></p>
          </div>
        </div>
      </div>
    </div>
  </script>


  <script type="text/template" id="experiment-files-item-tmpl">
    <a class="accordion-title">
      <%= file_name %>
    </a>
    <div class="accordion-content" data-tab-content>
      <p class="list-group-item-text">File path: <i><%= file_path %></i></p>
      <p class="list-group-item-text">File size: <i><%= file_size %></i></p>
      <br />
      <div class="btn-group experiment-file-actions">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Actions <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
          <!--<li><a class="visualize-scatterplot">Visualize scatterplot</a></li>-->
          <li><a class="visualize-expression">Visualize gene expression</a></li>
          <li><a class="download">Download</a></li>
          <li role="separator" class="divider"></li>
          <li><a class="remove">Remove</a></li>
        </ul>
      </div>
    </div>
    <br />
    <!-- MODAL -->
    <div class="reveal visualization-modal" id="" tabindex="-1" role="dialog" aria-labelledby="modal-title">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="modal-title">Experiment visualization</h4>
          </div>
          <div class="modal-body">
            <div class="visualization-wrapper">
              <select class="gene-selection" multiple="multiple" style="width: 50%"></select>
            </div>
          </div>
        </div>
      </div>
    </div>
  </script>


  <script type="text/template" id="experiment-create-tmpl">
    <div class="jumbotron">
      <div class="container">
        <h2>New experiment</h2>
      </div>
    </div>
      <div class="content container tab-content">
        <div id="experiment-information">
          <h4>Fill in the information about the experiment</h4>
          <hr />
          <form id="create-experiment-form" action="">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-name">Type:</label>
                  <select class="form-control" id="experiment-type">
                    <option>RNA-Seq</option>
                    <option>Imaging</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-name">Name:</label>
                  <input type="text" class="form-control" id="experiment-name" placeholder="Name">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-date">Date:</label>
                  <div class="input-group date">
                    <input type="text" class="form-control" id="experiment-date">
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-experimenter">Experimenter:</label>
                  <input type="text" class="form-control" id="experiment-experimenter" placeholder="Experimenter">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-species">Species:</label>
                  <input type="text" class="form-control" id="experiment-species" placeholder="Species">
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-tissue">Tissue:</label>
                  <input type="text" class="form-control" id="experiment-tissue" placeholder="Tissue">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="experiment-information">Additional information:</label>
                  <textarea class="form-control" id="experiment-additionalInformation" placeholder="Additional information"></textarea>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div id="experiment-files">
          <form method="post" id="file-uploader">
          </form>
        </div>
        <br />
        <h4>Select you analysis pipeline</h4>
        <hr />
        <div class="form-group">
          <select class="form-control">
            <option>RNA-Seq Analysis Pipeline</option>
            <option>Alternative analysis pipeline</option>
          </select>
        </div>
        <hr />
        <button class="create btn btn-lg btn-default">
          <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> Submit experiment
        </button>
        <button class="cancel btn btn-lg btn-default">
          <span class="glyphicon glyphicon-remove text-danger" aria-hidden="true"></span>
          Cancel
        </button>
      </div>
  </script>

  <script type="text/template" id="file-upload-tmpl">
      <label for="fileInput">Data files:</label>
      <div id="drop" class="text-center">
        Drop Here
        <button class="btn btn-info btn-browse-files" type="button">Browse files</button>
        <input id="fileInput" type="file" name="files[]" multiple/>
      </div>
      <ul class="list-group">
      <!-- The file uploads will be shown here -->
      </ul>
  </script>

  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
  <script src="{{ url_for('static', filename='js/models/experiment.js') }}"></script>
  <script src="{{ url_for('static', filename='js/models/experiment-file.js') }}"></script>
  <script src="{{ url_for('static', filename='js/collections/base.js') }}"></script>
  <script src="{{ url_for('static', filename='js/collections/experiments.js') }}"></script>
  <script src="{{ url_for('static', filename='js/collections/experiment-files.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment/list-item.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment/wrapper.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment/list.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment-file/list-item.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment-file/list.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment/show.js') }}"></script>
  <script src="{{ url_for('static', filename='js/views/experiment/create.js') }}"></script>
  <script src="{{ url_for('static', filename='js/routers/router.js') }}"></script>
  <script src="{{ url_for('static', filename='js/visualizations/scatter-plot.js') }}"></script>
  <script src="{{ url_for('static', filename='js/visualizations/line-chart.js') }}"></script>


</body>
</html>
